<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/pagina-docente" text="" icon="arrow-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-title mode="md" class="ion-text-center">Generar QR</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="background-image">
  <div class="content-container">
    <!-- Selección de sección -->
    <ion-item>
      <ion-label>Seleccionar Sección</ion-label>
      <ion-select [(ngModel)]="seccionSeleccionada" placeholder="Selecciona una sección">
        <ion-select-option *ngFor="let seccion of secciones" [value]="seccion.codigo">
          {{ seccion.descripcion }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Selección de fecha -->
    <div class="date-picker-container">
      <ion-datetime 
        display-format="MM/DD/YYYY" 
        [(ngModel)]="fechaSeleccionada" 
        placeholder="Selecciona una fecha">
      </ion-datetime>
    </div>

    <!-- Botón para generar QR -->
    <ion-button expand="block" color="primary" (click)="onGenerarQR()">
      GENERAR CÓDIGO QR
    </ion-button>

    <!-- Mostrar el QR generado -->
    <div *ngIf="mostrarCodigoQR" class="qr-container">
      <qrcode [qrdata]="config.data" [width]="256"></qrcode>
      <ion-button expand="block" color="primary" (click)="onBorrarQR()">
        BORRAR QR
      </ion-button>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar color="secondary" mode="md"></ion-toolbar>
</ion-footer>

<style>
  .background-image {
    --background: url('assets/img/background.jpg') no-repeat center center / cover;
    height: 100%;
  }

  .content-container {
    padding: 16px;
  }

  .qr-container {
    margin-top: 20px;
    text-align: center;
  }
</style>
